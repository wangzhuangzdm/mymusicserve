(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b019411e"],{"10d7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("detail-base-info",{attrs:{musiclist:t.musiclist,baseInfo:t.baseInfo}}),i("detail-bar",{attrs:{detailBarList:t.detailBarList,commentCount:t.commentCount},on:{detailBarClick:t.detailBarClick}}),i("music-item",{directives:[{name:"show",rawName:"v-show",value:"music"==t.isShow,expression:"isShow=='music'"}],attrs:{musiclist:t.musiclist}}),i("recommends",{directives:[{name:"show",rawName:"v-show",value:"recommend"==t.isShow,expression:"isShow=='recommend'"}],attrs:{recommends:t.recommends}})],1)},s=[],a=i("b85c"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.baseInfo?n("div",{staticClass:"base"},[n("div",{staticClass:"title"},[n("img",{attrs:{src:t.baseInfo.img,alt:""}})]),n("div",{staticClass:"content"},[n("div",{staticClass:"top"},[n("span",[t._v(t._s(t.baseInfo.name))]),n("div",{staticClass:"top-right"},[n("div",{staticClass:"songnum"},[n("p",[t._v("歌曲数")]),n("p",[t._v(t._s(t.baseInfo.trackCount))])]),n("div",{staticClass:"playnum"},[n("p",[t._v("播放量")]),n("p",[t._v(t._s(t.baseInfo.playCount))])])])]),n("div",{staticClass:"center"},[n("div",{staticClass:"logo"},[n("div",{staticClass:"logo-img"},[n("img",{attrs:{src:t.baseInfo.avatarUrl,alt:""}})]),n("p",[t._v(t._s(t.baseInfo.nickname))])]),n("div",{staticClass:"playall",on:{click:t.playAll}},[n("img",{attrs:{src:i("ff2c"),alt:""}}),t._v(" 播放全部 ")])]),n("div",{staticClass:"desc"},[n("div",{staticClass:"tag"},[t._v(" 标签： "),n("span",[t._v(t._s(t.baseInfo.tags))])]),n("div",{staticClass:"desc-item"},[t._v(" 简介： "),n("span",[t._v(t._s(t.baseInfo.title))])])])])]):t._e()},c=[],o=i("a6d2"),l={name:"DetailBaseInfo",props:{baseInfo:{type:Object,default:function(){return{}}},musiclist:{type:Array,default:function(){return[]}}},methods:{playAll:function(){for(var t=this,e=[],i=0,n=this.musiclist.length;i<n;i++)Object(o["b"])(this.musiclist[i].id).then((function(i){e.push(i),t.$store.commit("playMusic",e)}))}}},u=l,d=(i("7995"),i("2877")),m=Object(d["a"])(u,r,c,!1,null,"58c52d20",null),f=m.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailbar"},t._l(t.detailBarList,(function(e,n){return i("div",{key:n,staticClass:"item",class:{action:t.currentIndex==n},on:{click:function(e){return t.itemClick(n)}}},[t._v(" "+t._s(e)+" ")])})),0)},h=[],p={name:"DetailBar",props:{detailBarList:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){switch(this.currentIndex=t,t){case 0:this.$emit("detailBarClick","music");break;case 1:this.$emit("detailBarClick","recommend");break}}}},b=p,y=(i("6195"),Object(d["a"])(b,v,h,!1,null,"24aec1f4",null)),g=y.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.musiclist?i("div",{staticClass:"music-item"},[i("table",{attrs:{cellspacing:"0"}},[t._m(0),i("tbody",t._l(t.musiclist,(function(e,n){return i("tr",{key:n,on:{click:function(i){return t.itemClick(e.id)}}},[i("td",[t._v(t._s(n-0+1))]),i("td",[i("img",{attrs:{src:e.pic,alt:""}})]),i("td",[t._v(t._s(e.name))]),i("td",[t._v(t._s(e.song))]),i("td",[t._v(t._s(e.album))]),i("td",[t._v(t._s(e.time))])])})),0)])]):t._e()},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{colspan:"1",rowspan:"1"}}),i("th"),i("th",[t._v("音乐标题")]),i("th",[t._v("歌手")]),i("th",[t._v("专辑")]),i("th",[t._v("时长")])])])}],w={name:"MusicItem",props:{musiclist:{type:Array,default:function(){return[]}}},methods:{itemClick:function(t){var e=this;Object(o["b"])(t).then((function(t){e.$store.commit("playMusic",t)}))}}},I=w,S=(i("329b"),Object(d["a"])(I,_,C,!1,null,"e202b4e6",null)),k=S.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.recommends.comments?i("div",{staticClass:"recommend"},[i("div",{staticClass:"content"},[i("div",{staticClass:"good-remd"},[i("p",[t._v("精彩评论")]),t._l(t.recommends.hotComments,(function(e,n){return i("div",{staticClass:"good-remd-cont"},[i("div",{staticClass:"userlogo"},[i("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),i("div",{staticClass:"mess"},[i("div",{staticClass:"top"},[i("span",[t._v(t._s(e.user.nickname)+"：")]),t._v(" "+t._s(e.content)+" ")]),i("div",{staticClass:"bottom"},[t._v(t._s(t.formatDate(e.time)))])])])}))],2),i("div",{staticClass:"good-remd"},[i("p",[t._v("最新评论 ("+t._s(t.recommends.comments.length)+")")]),t._l(t.recommends.comments,(function(e,n){return i("div",{staticClass:"good-remd-cont"},[i("div",{staticClass:"userlogo"},[i("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),i("div",{staticClass:"mess"},[i("div",{staticClass:"top"},[i("span",[t._v(t._s(e.user.nickname)+"：")]),t._v(" "+t._s(e.content)+" ")]),i("div",{staticClass:"bottom"},[t._v(t._s(t.formatDate(e.time)))])])])}))],2)])]):t._e()},O=[],j=i("3f24"),x={name:"Recommends",props:{recommends:{type:Object,default:function(){return{}}}},methods:{formatDate:function(t){return Object(j["a"])(new Date(t),"yyyy年MM月dd日 hh:mm:ss")}}},B=x,D=(i("7e56"),Object(d["a"])(B,A,O,!1,null,"159c7dfa",null)),$=D.exports,L=(i("a4d3"),i("e01a"),i("b0c0"),i("d4ec")),E=i("1bab");function M(t){return Object(E["a"])({url:"/playlist/detail",params:{id:t}})}function U(t){return Object(E["a"])({url:"/song/detail",params:{ids:t}})}function R(t,e){return Object(E["a"])({url:"/comment/playlist",params:{id:t,limit:e}})}var T=function t(e){Object(L["a"])(this,t),this.img=e.coverImgUrl,this.title=e.description,this.name=e.name,this.shareCount=e.shareCount,this.subscribedCount=e.subscribedCount,this.playCount=e.playCount,this.trackCount=e.trackCount,this.tags=e.tags[0],this.avatarUrl=e.creator.avatarUrl,this.nickname=e.creator.nickname},J=function t(e){Object(L["a"])(this,t),this.id=e[0].id,this.name=e[0].name,this.album=e[0].al.name,this.song=e[0].ar[0].name,this.pic=e[0].al.picUrl,this.time=Object(j["a"])(new Date(e[0].dt),"mm:ss")},N={name:"MusicListDetail",components:{DetailBaseInfo:f,DetailBar:g,MusicItem:k,Recommends:$},data:function(){return{musicListDetail:null,baseInfo:null,commentCount:0,detailBarList:[],musicItemSong:[],musiclist:[],isShow:"music",recommends:{},limit:20}},created:function(){var t=this;this.id=this.$route.params.id,M(this.id).then((function(e){console.log(e),t.musicListDetail=e,t.baseInfo=new T(t.musicListDetail.playlist),t.commentCount=t.musicListDetail.playlist.commentCount;var i="评论("+t.commentCount+")";t.detailBarList=["歌曲列表",i];var n,s=Object(a["a"])(t.musicListDetail.playlist.trackIds);try{for(s.s();!(n=s.n()).done;){var r=n.value;U(r.id).then((function(e){t.musicItemSong=e.songs;var i=new J(t.musicItemSong);t.musiclist.push(i)}))}}catch(c){s.e(c)}finally{s.f()}R(t.id,t.limit).then((function(e){t.recommends=e}))}))},methods:{detailBarClick:function(t){this.isShow=t}}},F=N,q=(i("130d"),Object(d["a"])(F,n,s,!1,null,"e9d9935c",null));e["default"]=q.exports},"130d":function(t,e,i){"use strict";i("79ca")},"25fc":function(t,e,i){},3097:function(t,e,i){},3259:function(t,e,i){},"329b":function(t,e,i){"use strict";i("7482")},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,s=i("69f3"),a=i("7dd0"),r="String Iterator",c=s.set,o=s.getterFor(r);a(String,"String",(function(t){c(this,{type:r,string:String(t),index:0})}),(function(){var t,e=o(this),i=e.string,s=e.index;return s>=i.length?{value:void 0,done:!0}:(t=n(i,s),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,i){"use strict";var n=i("0366"),s=i("7b0b"),a=i("9bdd"),r=i("e95a"),c=i("50c4"),o=i("8418"),l=i("35a1");t.exports=function(t){var e,i,u,d,m,f,v=s(t),h="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,y=void 0!==b,g=l(v),_=0;if(y&&(b=n(b,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&r(g))for(e=c(v.length),i=new h(e);e>_;_++)f=y?b(v[_],_):v[_],o(i,_,f);else for(d=g.call(v),m=d.next,i=new h;!(u=m.call(d)).done;_++)f=y?a(d,b,[u.value,_],!0):u.value,o(i,_,f);return i.length=_,i}},6195:function(t,e,i){"use strict";i("25fc")},7482:function(t,e,i){},7995:function(t,e,i){"use strict";i("3097")},"79ca":function(t,e,i){},"7e56":function(t,e,i){"use strict";i("3259")},"9bdd":function(t,e,i){var n=i("825a"),s=i("2a62");t.exports=function(t,e,i,a){try{return a?e(n(i)[0],i[1]):e(i)}catch(r){throw s(t),r}}},a630:function(t,e,i){var n=i("23e7"),s=i("4df4"),a=i("1c7e"),r=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:s})},b85c:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),i("a630"),i("fb6a"),i("b0c0"),i("25f0");function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function s(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function a(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=s(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return c=t.done,t},e:function(t){o=!0,r=t},f:function(){try{c||null==i["return"]||i["return"]()}finally{if(o)throw r}}}}},d28b:function(t,e,i){var n=i("746f");n("iterator")},d4ec:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return n}))},ddb0:function(t,e,i){var n=i("da84"),s=i("fdbc"),a=i("e260"),r=i("9112"),c=i("b622"),o=c("iterator"),l=c("toStringTag"),u=a.values;for(var d in s){var m=n[d],f=m&&m.prototype;if(f){if(f[o]!==u)try{r(f,o,u)}catch(h){f[o]=u}if(f[l]||r(f,l,d),s[d])for(var v in a)if(f[v]!==a[v])try{r(f,v,a[v])}catch(h){f[v]=a[v]}}}},e01a:function(t,e,i){"use strict";var n=i("23e7"),s=i("83ab"),a=i("da84"),r=i("5135"),c=i("861d"),o=i("9bf2").f,l=i("e893"),u=a.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(m,u);var f=m.prototype=u.prototype;f.constructor=m;var v=f.toString,h="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;o(f,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(r(d,t))return"";var i=h?e.slice(7,-1):e.replace(p,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:m})}},fb6a:function(t,e,i){"use strict";var n=i("23e7"),s=i("861d"),a=i("e8b5"),r=i("23cb"),c=i("50c4"),o=i("fc6a"),l=i("8418"),u=i("b622"),d=i("1dde"),m=i("ae40"),f=d("slice"),v=m("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),p=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!f||!v},{slice:function(t,e){var i,n,u,d=o(this),m=c(d.length),f=r(t,m),v=r(void 0===e?m:e,m);if(a(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?s(i)&&(i=i[h],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return p.call(d,f,v);for(n=new(void 0===i?Array:i)(b(v-f,0)),u=0;f<v;f++,u++)f in d&&l(n,u,d[f]);return n.length=u,n}})},ff2c:function(t,e,i){t.exports=i.p+"img/bofang.599d55f4.svg"}}]);
//# sourceMappingURL=chunk-b019411e.9b22401a.js.map